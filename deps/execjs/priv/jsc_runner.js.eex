(function(program, runner) { runner(program); })(function() {
  return <%= source %>;
}, function(program) {
  var result;
  try {
    result = program();
    try {
      if (result === undefined) {
        print('["ok"]');
      } else {
        print(JSON.stringify(['ok', result]));
      }
    } catch (err) {
      print('["err"]');
    }
  } catch (err) {
    print(JSON.stringify(['err', '' + err]));
  }
});
